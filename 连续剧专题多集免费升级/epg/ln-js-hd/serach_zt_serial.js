// JavaScript Document// JavaScript Documentvar keyTypeof = 1; //判断当前键盘类型 1为全键盘模式 ，2为数字键盘模式  ，3为T9键盘模式var isT9Porp = false; //判断T9弹出层是否弹出 默认为没有弹出var beforeColIndex = 0; //记录原来的列(左侧键盘区)var beforeRowIndex = 0;//记录原来的行var beforeColIndex2 = 0; //记录原来的列(中间结果区)var beforeRowIndex2 = 0;//记录原来的行var beforeColIndex3 = 0; //记录原来的列(右侧切换区)var beforeRowIndex3 = 0;//记录原来的行var beforeRowIndex4 = 0; //记录原来的列(右侧切换区)var isT9 = false; //记录当前是否为T9键盘 默认为全键盘var isNum = false; //记录当前是否为数字键盘模式 默认非数字键盘模式 var isDef = true; //记录当前是否为默认搜索结果 默认是默认搜索结果var serachNum = 7; //默认搜索显示条目var iTopNum = 0;//记录搜索顶部的索引 默认为0var iLastNum = 6; //记录搜索最底部的索引 默认7var pagenum = 1; //结果页数var ifNewPage = false; //如果重新加载新页面//跑马灯全局变量var wrapper;var inner;var p;var p_w;var wrapper_w;var wordnum;var wordText;var time;var time1;var time2;window.onload=function(){		//搜索下面的字	if(typeof(addatas) !="undefined" && addatas != ""){		getGGData(addatas);	}	//初始化数据	fnIniParas('leftSearch','keyCol','keyRow');	fnIniCurrent(0,0,0);	var deF = fnCacheCurrentEle();	fnAddEleClass(deF,'Chooseblue');	}/*上*/function keyUp(){	if(isAnimate){		return	}	if(currentAreaIndex==1){		keyUpInSearchListArea();		return	}		if(currentAreaIndex==2){		keyUpInSwitchListArea();		return	}		if(currentAreaIndex==3){		keyUpInResultListArea();		return	}		if(currentAreaIndex==4){		keyUpClassListArea();		return	}		if(currentAreaIndex==8){		fourpicup();		return	}	if(currentAreaIndex==9){		tenup1();		return	}	if(currentAreaIndex==10){		tenup2();		return	}	}	/*下*/function keyDown(){	if(isAnimate){		return	}	if(currentAreaIndex == 1){		keyDownInSearchListArea();		return	}	if(currentAreaIndex == 2){		// 2018.07.24		if(current.rowIndex == 1){			return		}		fnRemoveEleClass(current.ele,'Chooseblue');		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex,current.colIndex,current.rowIndex+1);		fnAddEleClass(current.ele,'Chooseblue');		return	}	else if(currentAreaIndex == 3){		keyDownInResultListArea();		return	}		else if(currentAreaIndex == 4){		keyDownInClassListArea();		return	}else if(currentAreaIndex == 8){		fourpicdown();		return	}else if(currentAreaIndex == 9){		tendown1();		return	}	}	/*左*/function keyLeft(){	if(isAnimate){		return	}	if(currentAreaIndex==1){		keyLeftInSearchListArea();		return	}	else if(currentAreaIndex==2){		keyLeftInSwitchListArea();		return		}			else if(currentAreaIndex==3){		keyLeftInResultListArea();		return		}		else if(currentAreaIndex==4){		keyLeftInClassListArea();		return		}		else if(currentAreaIndex==8){		fourpicleft();		return		}		else if(currentAreaIndex==9){		tenleft1();		return		}	else if(currentAreaIndex==10){		tenleft2();		return		}	}	/*右*/function keyRight(){	if(isAnimate){		return	}	if(currentAreaIndex==1){		keyRightInSearchListArea()		return	}	else if(currentAreaIndex==2){		keyRightInSwitchListArea();		return		}	else if(currentAreaIndex==3){		keyRightInClassListArea();		return		}	else if(currentAreaIndex==8){		fourpicright();		return		}	else if(currentAreaIndex==9){		tenright1();		return		}	else if(currentAreaIndex==10){		tenright2();		return		}			}				//返回 //		function uncompile(str) {					  if(str == null || str.length < 8) {						return;		  }		  if(pwd == null || pwd.length <= 0) {						return;		  }		  var prand = "";		  for(var i=0; i<pwd.length; i++) {			prand += pwd.charCodeAt(i).toString();		  }		  var sPos = Math.floor(prand.length / 5);		  var mult = parseInt(prand.charAt(sPos) + prand.charAt(sPos*2) + prand.charAt(sPos*3) + prand.charAt(sPos*4) + prand.charAt(sPos*5));		  var incr = Math.round(pwd.length / 2);		  var modu = Math.pow(2, 31) - 1;		  var salt = parseInt(str.substring(str.length - 8, str.length), 16);		  str = str.substring(0, str.length - 8);		  prand += salt;		  while(prand.length > 10) {			prand = (parseInt(prand.substring(0, 10)) + parseInt(prand.substring(10, prand.length))).toString();		  }		  prand = (mult * prand + incr) % modu;		  var enc_chr = "";		  var enc_str = "";		  for(var i=0; i<str.length; i+=2) {			enc_chr = parseInt(parseInt(str.substring(i, i+2), 16) ^ Math.floor((prand / modu) * 255));			enc_str += String.fromCharCode(enc_chr);			prand = (mult * prand + incr) % modu;		  }		  return enc_str;		} function keyBack(){setCookie("sosoBackurl1","");window.location.href = uncompile(getCookie("sosobackurl11"));	}    function getCookie(name)       {       		var arr,reg=new RegExp("(^| )"+name+"=([^;]*)(;|$)");       		if(arr=document.cookie.match(reg))       		return unescape(arr[2]);       		else       		return null;              }var fourindex = 0;var tenindex1 = 0;function fourpicright(){		var word = document.getElementsByClassName('word');	wrapper = document.getElementsByClassName('word')[fourindex];	inner = wrapper.getElementsByTagName('div')[0];	p = wrapper.getElementsByTagName('p')[0];	p_w = p.offsetWidth;	wrapper_w = wrapper.offsetWidth;	wordText = p.innerText.trim();	if(fourindex<7){		var fresult = document.getElementsByClassName("program");		fnAddEleClass(fresult[fourindex].getElementsByClassName("program-sel")[0],"dn");		topWord(fourindex,word);				stopBroadcast(fourindex,wordText);		fourindex++;				wrapper = document.getElementsByClassName('word')[fourindex];		inner = wrapper.getElementsByTagName('div')[0];		p = wrapper.getElementsByTagName('p')[0];		p_w = p.offsetWidth;		wrapper_w = wrapper.offsetWidth;				fnRemoveEleClass(fresult[fourindex].getElementsByClassName("program-sel")[0],"dn");		downWord(fourindex,word);				broadcast();	}}function fourpicleft(){		var word = document.getElementsByClassName('word');	wrapper = document.getElementsByClassName('word')[fourindex];	inner = wrapper.getElementsByTagName('div')[0];	p = wrapper.getElementsByTagName('p')[0];	p_w = p.offsetWidth;	wrapper_w = wrapper.offsetWidth;	wordText = p.innerText.trim();		if(fourindex>0 && fourindex !=4){		var fresult = document.getElementsByClassName("program");		fnAddEleClass(fresult[fourindex].getElementsByClassName("program-sel")[0],"dn");		stopBroadcast(fourindex,wordText);				topWord(fourindex,word);				fourindex--;		wrapper = document.getElementsByClassName('word')[fourindex];		inner = wrapper.getElementsByTagName('div')[0];		p = wrapper.getElementsByTagName('p')[0];		p_w = p.offsetWidth;		wrapper_w = wrapper.offsetWidth;				fnRemoveEleClass(fresult[fourindex].getElementsByClassName("program-sel")[0],"dn");		downWord(fourindex,word);				broadcast();			}else if(fourindex==0 || fourindex==4){		var fresult = document.getElementsByClassName("program");		fnAddEleClass(fresult[fourindex].getElementsByClassName("program-sel")[0],"dn");		topWord(fourindex,word);				stopBroadcast(fourindex,wordText);				if(isT9){			fnIniParas('T9leftSearch','keyColT9','keyRowT9');			}		else if(isNum){			fnIniParas('NumleftSearch','keyColNum','keyRowNum');			}			else {			fnIniParas('leftSearch','keyCol','keyRow');			}		currentAreaIndex=1;		fnIniCurrent(0,beforeColIndex,beforeRowIndex);		var deF = fnCacheCurrentEle();		fnAddEleClass(deF,'Chooseblue');	}}function fourpicdown(){	/*tenindex1 = 0;	currentAreaIndex = 9;	var fresult = document.getElementsByClassName("textRow");	var fresult1 = document.getElementsByClassName("program");	fnAddEleClass(fresult1[fourindex].getElementsByClassName("program-sel")[0],"dn");	fnAddEleClass(fresult[0],'Chooseblue');*/		var word = document.getElementsByClassName('word');		wrapper = document.getElementsByClassName('word')[fourindex];	inner = wrapper.getElementsByTagName('div')[0];	p = wrapper.getElementsByTagName('p')[0];	p_w = p.offsetWidth;	wrapper_w = wrapper.offsetWidth;	wordText = p.innerText.trim();		if(fourindex>=0&&fourindex<4){		var fresult = document.getElementsByClassName("program");		stopBroadcast(fourindex,wordText);				topWord(fourindex,word);				fnAddEleClass(fresult[fourindex].getElementsByClassName("program-sel")[0],"dn");			fourindex+=4;			wrapper = document.getElementsByClassName('word')[fourindex];		inner = wrapper.getElementsByTagName('div')[0];		p = wrapper.getElementsByTagName('p')[0];		p_w = p.offsetWidth;		wrapper_w = wrapper.offsetWidth;				fnRemoveEleClass(fresult[fourindex].getElementsByClassName("program-sel")[0],"dn");				downWord(fourindex,word);			broadcast();		}	}function fourpicup(){	var word = document.getElementsByClassName('word');		wrapper = document.getElementsByClassName('word')[fourindex];	inner = wrapper.getElementsByTagName('div')[0];	p = wrapper.getElementsByTagName('p')[0];	p_w = p.offsetWidth;	wrapper_w = wrapper.offsetWidth;	wordText = p.innerText.trim();		if(fourindex>3&&fourindex<8){		var fresult = document.getElementsByClassName("program");		fnAddEleClass(fresult[fourindex].getElementsByClassName("program-sel")[0],"dn");			stopBroadcast(fourindex,wordText);				topWord(fourindex,word);			fourindex-=4;			wrapper = document.getElementsByClassName('word')[fourindex];		inner = wrapper.getElementsByTagName('div')[0];		p = wrapper.getElementsByTagName('p')[0];		p_w = p.offsetWidth;		wrapper_w = wrapper.offsetWidth;				fnRemoveEleClass(fresult[fourindex].getElementsByClassName("program-sel")[0],"dn");			downWord(fourindex,word);			broadcast();		}	}function tenright1(){	if(tenindex1<4){		var fresult = document.getElementsByClassName("textRow");		fnRemoveEleClass(fresult[tenindex1],"Chooseblue");		tenindex1++;		fnAddEleClass(fresult[tenindex1],"Chooseblue");	}}function tenright2(){	if(tenindex1<4){		var fresult = document.getElementsByClassName("textRow1");		fnRemoveEleClass(fresult[tenindex1],"Chooseblue");		tenindex1++;		fnAddEleClass(fresult[tenindex1],"Chooseblue");	}}function tenleft1(){	if(tenindex1>0){		var fresult = document.getElementsByClassName("textRow");		fnRemoveEleClass(fresult[tenindex1],"Chooseblue");		tenindex1--;		fnAddEleClass(fresult[tenindex1],"Chooseblue");	}else if(tenindex1==0){		var fresult = document.getElementsByClassName("textRow");		fnRemoveEleClass(fresult[0],"Chooseblue");		if(isT9){			fnIniParas('T9leftSearch','keyColT9','keyRowT9');			}		else if(isNum){			fnIniParas('NumleftSearch','keyColNum','keyRowNum');			}			else {			fnIniParas('leftSearch','keyCol','keyRow');			}		currentAreaIndex=1;			fnIniCurrent(0,beforeColIndex,beforeRowIndex);		var deF = fnCacheCurrentEle();		fnAddEleClass(deF,'Chooseblue');	}}function tenleft2(){	if(tenindex1>0){		var fresult = document.getElementsByClassName("textRow1");		fnRemoveEleClass(fresult[tenindex1],"Chooseblue");		tenindex1--;		fnAddEleClass(fresult[tenindex1],"Chooseblue");	}else if(tenindex1==0){		var fresult = document.getElementsByClassName("textRow1");		fnRemoveEleClass(fresult[0],"Chooseblue");		if(isT9){			fnIniParas('T9leftSearch','keyColT9','keyRowT9');			}		else if(isNum){			fnIniParas('NumleftSearch','keyColNum','keyRowNum');			}			else {			fnIniParas('leftSearch','keyCol','keyRow');			}		currentAreaIndex=1;			fnIniCurrent(0,beforeColIndex,beforeRowIndex);		var deF = fnCacheCurrentEle();		fnAddEleClass(deF,'Chooseblue');	}}function tenup1(){	currentAreaIndex = 8;	var fresult1 = document.getElementsByClassName("textRow");	fnRemoveEleClass(fresult1[tenindex1],"Chooseblue");	var fresult = document.getElementsByClassName("program");	fnRemoveEleClass(fresult[fourindex].getElementsByClassName("program-sel")[0],"dn");}function tenup2(){	currentAreaIndex = 9;	var fresult1 = document.getElementsByClassName("textRow1");	fnRemoveEleClass(fresult1[tenindex1],"Chooseblue");	var fresult = document.getElementsByClassName("textRow");	fnAddEleClass(fresult[tenindex1],"Chooseblue");}function tendown1(){	currentAreaIndex = 10;	var fresult1 = document.getElementsByClassName("textRow");	fnRemoveEleClass(fresult1[tenindex1],"Chooseblue");	var fresult = document.getElementsByClassName("textRow1");	fnAddEleClass(fresult[tenindex1],"Chooseblue");}/*一区右*/function keyRightInSearchListArea(){	/*全键盘模式*/	if(keyTypeof == 1){		//超出列边界的时候前五列		if(current.colIndex>=programLists[current.listIndex].colNum-1 && current.rowIndex !=7){			//fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex,current.rowIndex);			if(isDef){				gotoDResult();				}			else {				gotoResult();				}			return false;		}		//超出列边界的时候第六列		if(current.colIndex>=programLists[current.listIndex].colNum-2 && current.rowIndex ==7){			//fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex,current.rowIndex);			if(isDef){				gotoDResult();				}			else {				gotoResult();				}			return false;		}		if(current.colIndex == 3 && current.rowIndex ==5){			//fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex,current.rowIndex);			if(isDef){				gotoDResult();				}			else {				gotoResult();				}			return false;		}		fnRemoveEleClass(current.ele,'Chooseblue');		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex+1,current.rowIndex);		fnAddEleClass(current.ele,'Chooseblue');	}		/*数字键盘模式*/	if(keyTypeof == 2){		if(current.colIndex>=programLists[current.listIndex].colNum-1 && current.rowIndex !=2){			//fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex,current.rowIndex);			if(isDef){				gotoDResult();				}			else {				gotoResult();				}			return false;		}		if(current.colIndex>=programLists[current.listIndex].colNum-3 &&  current.rowIndex ==2 ){			//fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex,current.rowIndex);			if(isDef){				gotoDResult();				}			else {				gotoResult();				}			return false;		}		fnRemoveEleClass(current.ele,'Chooseblue');		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex+1,current.rowIndex);		fnAddEleClass(current.ele,'Chooseblue');	}		/*T9键盘模式*/	if(keyTypeof == 3){		//T9弹出层出现		if(isT9Porp){			if(current.colIndex == 1){				fnRemoveEleClass(current.ele,'Chooseblue');				fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex+1,0);				fnAddEleClass(current.ele,'Chooseblue');				}			else if(current.colIndex == 0){				fnRemoveEleClass(current.ele,'Chooseblue');				fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex+1,1);				fnAddEleClass(current.ele,'Chooseblue');								}				}		else {						if(current.colIndex>=programLists[current.listIndex].colNum-1){								//fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex,current.rowIndex);				if(isDef){				gotoDResult();				}			else {				gotoResult();				}				return false;			}			fnRemoveEleClass(current.ele,'Chooseblue');			fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex+1,current.rowIndex);			fnAddEleClass(current.ele,'Chooseblue');		}	}	}	/*二区右*/function keyRightInSwitchListArea (){		if(current.colIndex>=programLists[current.listIndex].colNum-1){		//fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex,current.rowIndex);		if(isDef){				gotoDResult();				}			else {				gotoResult();				}		return false;		}	fnRemoveEleClass(current.ele,'Chooseblue');	fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex+1,current.rowIndex);	fnAddEleClass(current.ele,'Chooseblue');	}		/*三区右*/function keyRightInClassListArea(){	if(!isDef){		currentAreaIndex = 4;		//补丁(强制去掉列表选中样式)		if(current.ele.innerHTML.indexOf('<div') == -1) {			setTimeout(function(){				var bdRL = document.getElementsByClassName('ResultRow')[beforeRowIndex2];				fnRemoveEleClass(bdRL , 'resultBorder2');				fnModifyEleClass(bdRL,'resultBorder2','resultBorder2Nobg');			},20)		}		fnModifyEleClass(current.ele,'resultBorder2','resultBorder2Nobg');		beforeColIndex2 = current.colIndex;		beforeRowIndex2 = current.rowIndex;			fnIniParas('resultClass','resultClassCol','resultClassRow');		fnIniCurrent(0,beforeColIndex3,beforeRowIndex3);		fnRemoveEleClass(current.ele.getElementsByTagName('p')[0] ,'p');		var deF = fnCacheCurrentEle();		fnAddEleClass(deF,'classBorder');		}	}			/*一区左*/	function keyLeftInSearchListArea(){	if(keyTypeof == 3){		//T9弹出层出现		if(isT9Porp){			if(current.colIndex == 1){				fnRemoveEleClass(current.ele,'Chooseblue');				fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex-1,0);				fnAddEleClass(current.ele,'Chooseblue');				}			else if(current.colIndex == 2){				fnRemoveEleClass(current.ele,'Chooseblue');				fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex-1,1);				fnAddEleClass(current.ele,'Chooseblue');				}				}		else {				if(current.colIndex<=0){			fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex-1,current.colIndex,current.rowIndex);			return false;		}		fnRemoveEleClass(current.ele,'Chooseblue');		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex-1,current.colIndex-1,current.rowIndex);		fnAddEleClass(current.ele,'Chooseblue');			}		}	else {			//超出列边界的时候		if(current.colIndex<=0){			fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex-1,current.colIndex,current.rowIndex);			return false;		}		fnRemoveEleClass(current.ele,'Chooseblue');		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex-1,current.colIndex-1,current.rowIndex);		fnAddEleClass(current.ele,'Chooseblue');	}	}/*二区左*/function keyLeftInSwitchListArea (){	if(current.colIndex<=0){		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex,current.rowIndex);		return false;		}	fnRemoveEleClass(current.ele,'Chooseblue');	fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex-1,current.rowIndex);	fnAddEleClass(current.ele,'Chooseblue');	}	/*三区左*/function keyLeftInResultListArea(){	beforeColIndex2 = current.colIndex;	beforeRowIndex2 = current.rowIndex;	//fnAddEleClass(current.ele,'resultBorder2Nobg');	if(isDef){		fnRemoveEleClass(current.ele , 'resultBorder');		}	else {		//补丁(强制去掉列表选中样式)		if(current.ele.innerHTML.indexOf('<div') == -1) {			setTimeout(function(){				var bdRL = document.getElementsByClassName('ResultRow')[beforeRowIndex2];				fnRemoveEleClass(bdRL , 'resultBorder2');				fnModifyEleClass(bdRL,'resultBorder2','resultBorder2Nobg');			},20)		}				fnRemoveEleClass(current.ele , 'resultBorder2');		fnModifyEleClass(current.ele,'resultBorder2','resultBorder2Nobg');		}		if(isT9){		fnIniParas('T9leftSearch','keyColT9','keyRowT9');		}	else if(isNum){		fnIniParas('NumleftSearch','keyColNum','keyRowNum');		}		else {		fnIniParas('leftSearch','keyCol','keyRow');		}	currentAreaIndex=1;		if(beforeColIndex==1) {	beforeColIndex = 0	}	fnIniCurrent(0,beforeColIndex,beforeRowIndex);	var deF = fnCacheCurrentEle();	fnAddEleClass(deF,'Chooseblue');	return false;	}	/*四区左*/function keyLeftInClassListArea(){		currentAreaIndex=3;	beforeColIndex3 = current.colIndex;	beforeRowIndex3 = beforeRowIndex4;	fnIniParas('Result','ResultCol','ResultRow');	fnAddEleClass(document.getElementById('resultClass').getElementsByTagName('li')[beforeRowIndex4].getElementsByTagName('p')[0] ,'p');	fnRemoveEleClass(current.ele, 'classBorder');	fnIniCurrent(0,beforeColIndex2,beforeRowIndex2);	var deF = fnCacheCurrentEle();	fnModifyEleClass(current.ele,'resultBorder2Nobg','resultBorder2');	return false;	}				/*一区下*/	function keyDownInSearchListArea(){		if(isT9Porp){			if(current.colIndex == 1 && current.rowIndex == 1){				if(get$('T9Prop').getElementsByClassName('showB')[3].style.opacity == 0)				return false;			}			if((current.colIndex == 0 && current.rowIndex == 0) || (current.colIndex == 2 && current.rowIndex == 0) ){				return false;				}						}			//超出列边界的时候				if(current.rowIndex>=programLists[current.listIndex].cols[current.colIndex].programNum-1){				fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex-1,current.colIndex,current.rowIndex);				fnRemoveEleClass(current.ele, 'Chooseblue');				currentAreaIndex = 2;				beforeColIndex = current.colIndex;				beforeRowIndex = current.rowIndex;				fnIniParas('switch','switchCol','switchRow');				fnIniCurrent(0,0,0);				var deF = fnCacheCurrentEle();				fnAddEleClass(deF,'Chooseblue');				return false;			}			fnRemoveEleClass(current.ele,'Chooseblue');			fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex,current.colIndex,current.rowIndex+1);			fnAddEleClass(current.ele,'Chooseblue');			}		/*三区下*/function keyDownInResultListArea(){	//如果是默认搜索	if(isDef){		//超过边界		if(current.rowIndex>=programLists[current.listIndex].cols[current.colIndex].programNum-1){				return false;			}		fnRemoveEleClass(current.ele,'resultBorder');		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex,current.colIndex,current.rowIndex+1);		fnAddEleClass(current.ele,'resultBorder');			}	else {		//超过边界		var downtolnum = document.getElementById("tolnum1").innerHTML;		var teat11 =current.rowIndex+2+(pagenum-1)*7;		if(current.rowIndex+2+(pagenum-1)*7>Number(downtolnum)){			return;		}		if(current.rowIndex>=programLists[current.listIndex].cols[current.colIndex].programNum-1){				if(httpflag == 0){					pagenum++;					loaddata(pagenum);				}				return false;			}		var beforeColIndex = current.colIndex;		var beforeRowIndex = current.rowIndex;			//current.ele.innerHTML = current.ele.getElementsByTagName('h4')[0].innerHTML;		fnRemoveEleClass(current.ele,'resultBorder2');		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex,current.colIndex,current.rowIndex+1);						fnAddEleClass(current.ele,'resultBorder2');		iTopNum++;		var filmcode= document.getElementById("filmid"+iTopNum).innerText;		var adarr = eval(nameArray);		var divnum = getElementsByClassName("ResultRow");		datahtml ="";		var mTotalNum = document.getElementById('tolnum1').innerHTML * 1				if(Number(mTotalNum-7*(pagenum-1))>7){					datalen = 7;				}else {					datalen = mTotalNum-7*(pagenum-1)				}				for(var i=0;i<datalen;i++){ 				    //重新加载数据 10为检索出来的搜索结果 然后动态插入div展示 相关属性要赋值在相应的Sname sabout  srole...							if(typeof(adarr[i].name) != "undefined"){						//datahtml += '<div class="ResultRow" id="ResultRow'+i+'">'+adarr[i].name.substring(0,10)+'</div><div style="display:none" id="filmid'+(i)+'">'+adarr[i].code+'</div>';						datahtml += '<div class="ResultRow" id="ResultRow'+i+'">'+adarr[i].name.replace(/\*\*\*/g, "<span style='color:yellow'>").replace(/\&\&\&/g, "</span>")+'</div><div style="display:none" id="filmid'+(i)+'">'+adarr[i].code+'</div>';					}				}				if(Number(datalen)>0){					  document.getElementById('NoResult').style.display="none";					  document.getElementById('ResultCol').innerHTML = datahtml;					  document.getElementById('Result').style.display="block";					  //showAdata(adarr[0].code);					  //showdetail(adarr[iTopNum]);				}else{					document.getElementById('Result').style.display="none";					document.getElementById('NoResult').style.display="block";				}		// showAdata(filmcode);showdetail(adarr[iTopNum]);		}			//开始切换屏幕		if(current.rowIndex >= serachNum && current.rowIndex >iLastNum){			iTopNum++;			iLastNum = current.rowIndex;			get$('ResultCol').style.top = -(current.rowIndex-serachNum+1)*65+'px';			}	}/*四区下*/function keyDownInClassListArea(){	if(current.rowIndex>=programLists[current.listIndex].cols[current.colIndex].programNum-1){				return false;			}		//showSearchR();		fnRemoveEleClass(current.ele,'classBorder');			fnRemoveEleClass(current.ele,'resultBorder');		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex,current.colIndex,current.rowIndex+1);		fnAddEleClass(current.ele,'classBorder');				}			/*一区上*/	function keyUpInSearchListArea(){	//超出列边界的时候	if(current.rowIndex<=0){		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex-1,current.colIndex,current.rowIndex);		return false;	}	fnRemoveEleClass(current.ele,'Chooseblue');	fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex,current.colIndex,current.rowIndex-1);	fnAddEleClass(current.ele,'Chooseblue');		}		/*二区上*/function keyUpInSwitchListArea(){	// 2018.07.24	if(current.rowIndex == 0){		currentAreaIndex = 1;		if(isT9 ){		fnIniParas('T9leftSearch','keyColT9','keyRowT9');		}	else if(isNum){		fnIniParas('NumleftSearch','keyColNum','keyRowNum');		}		else {		fnIniParas('leftSearch','keyCol','keyRow');		}		fnRemoveEleClass(current.ele,'Chooseblue');		fnIniCurrent(0,beforeColIndex,beforeRowIndex);		var deF = fnCacheCurrentEle();		fnAddEleClass(deF,'Chooseblue');	} else {		fnRemoveEleClass(current.ele,'Chooseblue');		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex,current.colIndex,current.rowIndex-1);		fnAddEleClass(current.ele,'Chooseblue');			currentAreaIndex = 2;	}		return false;	}	/*三区上*/function keyUpInResultListArea(){	if(isDef){		if(current.rowIndex<=0){			fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex-1,current.colIndex,current.rowIndex);			return false;		}		fnRemoveEleClass(current.ele,'resultBorder');		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex,current.colIndex,current.rowIndex-1);		fnAddEleClass(current.ele,'resultBorder');	}	else {		if(current.rowIndex<=0){		if(pagenum==1)		{		return;		}			if(httpflag == 0){				pagenum--;				loaddata(pagenum);			}			fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex-1,current.colIndex,current.rowIndex);			return false;		}		var beforeColIndex = current.colIndex;		var beforeRowIndex = current.rowIndex;			//current.ele.innerHTML = current.ele.getElementsByTagName('h4')[0].innerHTML;			fnRemoveEleClass(current.ele,'resultBorder2');		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex,current.colIndex,current.rowIndex-1);		fnAddEleClass(current.ele,'resultBorder2');		iTopNum--;		var filmcode= document.getElementById("filmid"+iTopNum).innerText;		datahtml ="";		var adarr = eval(nameArray);				if(Number(datalen-7*pagenum)>7){					datalen = 7;				}				for(var i=0;i<datalen;i++){ 				    //重新加载数据 10为检索出来的搜索结果 然后动态插入div展示 相关属性要赋值在相应的Sname sabout  srole...							if(typeof(adarr[i].name) != "undefined"){						datahtml += '<div class="ResultRow" id="ResultRow'+i+'">'+adarr[i].name.replace(/\*\*\*/g, "<span style='color:yellow'>").replace(/\&\&\&/g, "</span>")+'</div><div style="display:none" id="filmid'+(i)+'">'+adarr[i].code+'</div>';					}				}				if(Number(datalen)>0){					  document.getElementById('NoResult').style.display="none";					  document.getElementById('ResultCol').innerHTML = datahtml;					  document.getElementById('Result').style.display="block";					  //showAdata(adarr[0].code);					  //showdetail(adarr[iTopNum]);					  showdetail(adarr[iTopNum]);				}else{					document.getElementById('Result').style.display="none";					document.getElementById('NoResult').style.display="block";				}		 //showAdata(filmcode);				}			//开始切换屏幕		if(current.rowIndex < iTopNum){			--iTopNum;			--iLastNum;			get$('ResultCol').style.top =get$('ResultCol').offsetTop +65+'px';			}	}/*四区上*/function keyUpClassListArea(){		if(current.rowIndex<=0){			fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex-1,current.colIndex,current.rowIndex);			return false;		}		//showSearchR();		fnRemoveEleClass(current.ele,'classBorder');		fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex,current.colIndex,current.rowIndex-1);		fnAddEleClass(current.ele,'classBorder');	}var pwd = "gdyzs";function compile(str) {  if(pwd == null || pwd.length <= 0) {        return null;  }  var prand = "";  for(var i=0; i<pwd.length; i++) {    prand += pwd.charCodeAt(i).toString();  }  var sPos = Math.floor(prand.length / 5);  var mult = parseInt(prand.charAt(sPos) + prand.charAt(sPos*2) + prand.charAt(sPos*3) + prand.charAt(sPos*4) + prand.charAt(sPos*5));  var incr = Math.ceil(pwd.length / 2);  var modu = Math.pow(2, 31) - 1;  if(mult < 2) {        return null;  }  var salt = Math.round(Math.random() * 1000000000) % 100000000;  prand += salt;  while(prand.length > 10) {    prand = (parseInt(prand.substring(0, 10)) + parseInt(prand.substring(10, prand.length))).toString();  }  prand = (mult * prand + incr) % modu;  var enc_chr = "";  var enc_str = "";  for(var i=0; i<str.length; i++) {    enc_chr = parseInt(str.charCodeAt(i) ^ Math.floor((prand / modu) * 255));    if(enc_chr < 16) {      enc_str += "0" + enc_chr.toString(16);    } else enc_str += enc_chr.toString(16);    prand = (mult * prand + incr) % modu;  }  salt = salt.toString(16);  while(salt.length < 8)salt = "0" + salt;  enc_str += salt;  return enc_str;}function uncompile(str) {	  if(str == null || str.length < 8) {        return;  }  if(pwd == null || pwd.length <= 0) {        return;  }  var prand = "";  for(var i=0; i<pwd.length; i++) {    prand += pwd.charCodeAt(i).toString();  }  var sPos = Math.floor(prand.length / 5);  var mult = parseInt(prand.charAt(sPos) + prand.charAt(sPos*2) + prand.charAt(sPos*3) + prand.charAt(sPos*4) + prand.charAt(sPos*5));  var incr = Math.round(pwd.length / 2);  var modu = Math.pow(2, 31) - 1;  var salt = parseInt(str.substring(str.length - 8, str.length), 16);  str = str.substring(0, str.length - 8);  prand += salt;  while(prand.length > 10) {    prand = (parseInt(prand.substring(0, 10)) + parseInt(prand.substring(10, prand.length))).toString();  }  prand = (mult * prand + incr) % modu;  var enc_chr = "";  var enc_str = "";  for(var i=0; i<str.length; i+=2) {    enc_chr = parseInt(parseInt(str.substring(i, i+2), 16) ^ Math.floor((prand / modu) * 255));    enc_str += String.fromCharCode(enc_chr);    prand = (mult * prand + incr) % modu;  }  return enc_str;}		       function setCookie(name,value)       {       	document.cookie = name + "="+ escape (value) + ";expires=" + exp.toGMTString();       } function keyOk(){    setCookie("sosohd_zt_serial_back","sosohd_zt_serial.jsp?");	var prams = "&jumpflag=2";	if(currentAreaIndex==8){		var url=document.getElementsByClassName("program")[fourindex].getAttribute('data-url')+"&sosoflag=0";		window.location=url+prams;	}	if(currentAreaIndex==9){		var url=document.getElementById("word"+(tenindex1+5)).getAttribute('data-url')+"&sosoflag=0";		window.location=url+prams;	}	if(currentAreaIndex==10){		var url=document.getElementById("word"+(tenindex1+10)).getAttribute('data-url')+"&sosoflag=0";		window.location=url+prams;	}	if(currentAreaIndex==3){		var url=document.getElementById("overflowK"+iTopNum).getAttribute('data-url')+"&sosoflag=0";		window.location=url+prams;	}	if(currentAreaIndex == 1){		//当区域在输入键盘的时候			if(keyTypeof == 1 || keyTypeof == 2){			//数字键盘切换			if(current.ele.getAttribute('attr') == '123'){				get$('NumleftSearch').style.display = 'block';				get$('leftSearch').style.display = 'none';				fnRemoveEleClass(current.ele,'Chooseblue');				fnIniParas('NumleftSearch','keyColNum' ,'keyRowNum');				fnIniCurrent(0,0,0);				var deF = fnCacheCurrentEle();				fnAddEleClass(deF,'Chooseblue');				keyTypeof = 2;				isNum = true;				}			//全键盘切换			else if(current.ele.getAttribute('attr') == 'abc'){				get$('NumleftSearch').style.display = 'none';				get$('leftSearch').style.display = 'block';				fnRemoveEleClass(current.ele,'Chooseblue');				fnIniParas('leftSearch','keyCol' ,'keyRow');				fnIniCurrent(0,0,0);				var deF = fnCacheCurrentEle();				fnAddEleClass(deF,'Chooseblue');				keyTypeof = 1;				isNum = false;				}			//退格				else if(current.ele.getAttribute('attr') == 'del'){				get$('inputType').innerHTML = get$('inputType').innerHTML.substring(0,get$('inputType').innerHTML.length-1);				//showSearchR();				isZero();				}			//全部删掉					else if(current.ele.getAttribute('attr') == 'delAll'){				get$('inputType').innerHTML = '';				isZero();				}				else{										get$('inputType').innerHTML = get$('inputType').innerHTML + current.ele.innerHTML;					isDef = false;					//用户输入默认搜索隐藏显示用户搜索结果										//showSearchR();				//beforeColIndex2 = 0; //记录原来的列				//beforeRowIndex2 = 0;//记录原来的行				}			}				//针对九宫格的特殊处理			if(keyTypeof == 3){			//判断是否有弹出层			if(isNumP()){				//展开键盘				showKeyBord();				}			else if(current.ele.getAttribute('attr') == 'Num_1' || current.ele.getAttribute('attr') == 'Num_0'){				get$('inputType').innerHTML = get$('inputType').innerHTML + current.ele.innerHTML;				isDef = false;				//showSearchR();				}					else if(isT9Porp){				get$('inputType').innerHTML = get$('inputType').innerHTML + current.ele.innerHTML;				isDef = false;				//showSearchR();					isT9Porp = false;		get$('T9Bg').style.display = 'none';		get$('T9Prop').style.display = 'none';		fnRemoveEleClass(current.ele , 'Chooseblue');		get$('T9Prop').getElementsByClassName('showB')[3].style.opacity = 0;		fnIniParas('T9leftSearch','keyColT9','keyRowT9');		fnIniCurrent(0,beforeColIndex,beforeRowIndex);		var deF = fnCacheCurrentEle();		fnAddEleClass(deF,'Chooseblue');								}				//退格				else if(current.ele.getAttribute('attr') == 'del'){				get$('inputType').innerHTML = get$('inputType').innerHTML.substring(0,get$('inputType').innerHTML.length-1);				//showSearchR();				isZero();				}			//全部删掉					else if(current.ele.getAttribute('attr') == 'delAll'){				get$('inputType').innerHTML = '';				isZero();				}			}			}					else if(currentAreaIndex ==2){			//切换全键盘			if(current.ele.getAttribute('attr') == 'allKey'){				isT9 = false;				fnRemoveEleClass(current.ele , 'Chooseblue');				fnIniParas('leftSearch','keyCol','keyRow');				fnIniCurrent(0,0,0);				var deF = fnCacheCurrentEle();				fnAddEleClass(deF,'Chooseblue');				get$('T9leftSearch').style.display ='none';				get$('NumleftSearch').style.display = 'none';					get$('leftSearch').style.display ='block';				currentAreaIndex = 1;				keyTypeof = 1;				get$('choose').style.left = '60px';				}			//切换九宫格键盘				else if(current.ele.getAttribute('attr') == 't9Key'){				isT9 = true;				fnRemoveEleClass(current.ele , 'Chooseblue');				fnIniParas('T9leftSearch','keyColT9','keyRowT9');				fnIniCurrent(0,1,1);				var deF = fnCacheCurrentEle();				fnAddEleClass(deF,'Chooseblue');				get$('T9leftSearch').style.display ='block';				get$('leftSearch').style.display ='none';				get$('NumleftSearch').style.display = 'none';					currentAreaIndex = 1;				keyTypeof = 3;				get$('choose').style.left = '225px';			}				//按人名搜索				else if(current.ele.getAttribute('attr') == 't9KeyPro'||current.ele.getAttribute('attr') == 't9KeyPer'){				document.getElementById("sosoword").innerHTML = document.getElementById("inputType").innerText;				if(current.ele.getAttribute('attr') == 't9KeyPro')				{				searchType="name";				pagenum = 1;				beforeRowIndex2 = 0;				}else{				searchType="person";				pagenum = 1;				beforeRowIndex2 = 0;				}				if(httpflag == 0){					showSearchR();				}				}				}			else if(currentAreaIndex == 4){			beforeRowIndex4 = current.rowIndex;			//showSearchR();			}				}		//判断T9键盘是否有弹出层function isNumP(){	fnIniCurrent(current.listIndex==programLists.length-1?0:current.listIndex+1,current.colIndex,current.rowIndex);	if(current.ele.getElementsByTagName('span').length > 0 && current.ele.getAttribute('attr')!== 'del' && current.ele.getAttribute('attr')!== 'delAll' )		{beforeColIndex = current.colIndex;			beforeRowIndex = current.rowIndex;return true;}	else {	return false;}		}		//展开T9键盘function showKeyBord(){	var showPs=document.getElementsByClassName('showB');	get$('T9Prop').style.display='block';	get$('T9Bg').style.display='block';	//插入相应的值		showPs[2].innerHTML = current.ele.getElementsByTagName('p')[0].innerHTML;		showPs[0].innerHTML = current.ele.getElementsByTagName('span')[0].innerHTML[0];		showPs[1].innerHTML = current.ele.getElementsByTagName('span')[0].innerHTML[1];		showPs[4].innerHTML = current.ele.getElementsByTagName('span')[0].innerHTML[2];						if(current.ele.getElementsByTagName('span')[0].innerHTML.length > 3){			showPs[3].style.opacity = 1;			showPs[3].innerHTML = current.ele.getElementsByTagName('span')[0].innerHTML[3];			}		fnIniParas('T9Prop','leftFloat','showB');		fnIniCurrent(0,1,1);		var deF = fnCacheCurrentEle();		fnAddEleClass(deF,'Chooseblue');		isT9Porp = true;	}	//搜索区转换到默认结果区function gotoDResult(){	fourindex = 0;	currentAreaIndex = 8;//四图区	beforeColIndex = current.colIndex;	beforeRowIndex = current.rowIndex;	fnRemoveEleClass(current.ele , 'Chooseblue');		var word = document.getElementsByClassName('word');	//fnIniParas('defaultResult','defaultResultCol','defaultResultRow');	fnIniCurrent(0,beforeColIndex2,beforeRowIndex2);	var deF = fnCacheCurrentEle();	//fnAddEleClass(deF,'resultBorder');	//currentAreaIndex = 3;	wrapper = document.getElementsByClassName('word')[0];		inner = wrapper.getElementsByTagName('div')[0];		p = wrapper.getElementsByTagName('p')[0];		p_w = p.offsetWidth;		wrapper_w = wrapper.offsetWidth;	var fresult = document.getElementsByClassName("program");	fnRemoveEleClass(fresult[0].getElementsByClassName("program-sel")[0],"dn");		downWord(0,word);	broadcast();	}//搜索切换到有内容的搜索区function gotoResult(){	beforeColIndex = current.colIndex;	beforeRowIndex = current.rowIndex;	fnRemoveEleClass(current.ele , 'Chooseblue');	fnIniParas('Result','ResultCol','ResultRow');	console.log(programLists)		fnModifyEleClass(get$('Result').getElementsByClassName('ResultRow')[beforeRowIndex2],'resultBorder2Nobg','resultBorder2');	fnIniCurrent(0,beforeColIndex2,beforeRowIndex2);	var deF = fnCacheCurrentEle();	fnAddEleClass(deF,'resultBorder2');	currentAreaIndex = 3;	}var httpflag = 0;//展示搜索数据	function showSearchR(){			document.getElementById("tolnum").innerHTML = "加载中";		//loadtotal();		isDef = false;		get$('defaultResult').style.display = 'none';		get$('Result').style.display = 'block';		iTopNum = 0;//记录搜索顶部的索引 默认为0		iLastNum = 6		get$('resultClass').style.display='block';		get$('ResultCol').innerHTML = '';		get$('ResultCol').style.top = 0;				loaddata(1);}		var xmlhttp;	var nameArray;var datalen;var datahtml="";function handleResponse() {			httpflag = 0;			if(Number(pagenum)>1){				fnIniCurrent(0,0,0);			}			if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {							var result=xmlhttp.responseText;								xmlhttp = null;								var obj=eval('('+result+')');			   			    datalen = obj[0].count;								nameArray = obj[0].list;								var adarr = eval(nameArray);				datahtml = "";								document.getElementById("tolnum").innerHTML = datalen+"个";				document.getElementById("tolnum1").innerHTML = datalen;				//datalen-7*pagenum				var totalNum=Number(datalen-7*(pagenum-1));				if(totalNum>7)				{				totalNum=7;				}				if(Number(datalen)>7){					datalen = 7;				}								for(var i=0;i<totalNum;i++){  				    //重新加载数据 10为检索出来的搜索结果 然后动态插入div展示 相关属性要赋值在相应的Sname sabout  srole...					if(typeof(adarr[i].name) != "undefined"){					//datahtml += '<div class="ResultRow" id="ResultRow'+i+'">'+adarr[i].name.substring(0,10)+'</div><div style="display:none" id="filmid'+i+'">'+adarr[i].code+'</div>';					datahtml += '<div class="ResultRow" id="ResultRow'+i+'">'+adarr[i].name.replace(/\*\*\*/g, "<span style='color:yellow'>").replace(/\&\&\&/g, "</span>")+'</div><div style="display:none" id="filmid'+i+'">'+adarr[i].code+'</div>';					}				}				iTopNum=0;				if(Number(datalen)>0){					  document.getElementById('NoResult').style.display="none";					  document.getElementById('ResultCol').innerHTML = datahtml;					  document.getElementById('Result').style.display="block";					  //showAdata(adarr[iTopNum].code);					  showdetail(adarr[0]);				}else{					document.getElementById('Result').style.display="none";					document.getElementById('NoResult').style.display="block";				}			  			}}function showdetail(adarr) {				//var obj=adarr;				//var fname = obj[0].name;				//var pic = obj[0].fileurl;				//var director = obj[0].director;				//var mainactor = obj[0].actordisplay;				//var description = obj[0].description;				//var  seriesflag = obj[0].seriesflag;					var EPGDomainto = '';			if ('CTCSetConfig' in Authentication) {				EPGDomainto = Authentication.CTCGetConfig("EPGDomain");			} else {				EPGDomainto = Authentication.CUGetConfig("EPGDomain");			}			var last = EPGDomainto.lastIndexOf("/"); 			var host = EPGDomainto.substr( 0, last ) ;		if(providerid == "zx"){			host = host.replace("function","frame1004");		}				var fname = adarr.name.replace(/\*\*\*/g, "<span style='color:yellow'>").replace(/\&\&\&/g, "</span>");				var pic = adarr.fileurl;				var director = adarr.director.replace(/\*\*\*/g, "<span style='color:yellow'>").replace(/\&\&\&/g, "</span>");				var mainactor = adarr.actordisplay.replace(/\*\*\*/g, "<span style='color:yellow'>").replace(/\&\&\&/g, "</span>");				var description = adarr.description;				var  seriesflag = adarr.seriesflag;								var  code = adarr.code;								var  lntvlspid = adarr.lntvlspid;				var freeflag = adarr.freeflag;          				var jumpurl;								var codestart = code.indexOf("216");				var spid = lntvlspid.indexOf("HQHYMA");				var spid_sohu=lntvlspid.indexOf("YKWHMA"); 				var program_hdtype = "1";				if(fname.indexOf("4K")>-1){					program_hdtype = "2";				}				if(!director){					director = "";				}else if(typeof(director) == "undefined" || director == "null"){					director = "";				}else if(director.length>12){					//director = director.substring(0,12)+"...";				}				if(!mainactor){					mainactor = "";				}else if(typeof(mainactor) == "undefined" || mainactor == "null"){					mainactor = "";				}else if(mainactor.length>12){					//mainactor = mainactor.substring(0,12)+"...";				}				if(!description){					description = "";				}else if(typeof(description) == "undefined" || description == "null"){					description = "";				}else if(description.length>20){					description = description.substring(0,20)+"...";				}		              if("1".equals(freeflag)){						//jumpurl = "www.taobao.com";						//连续剧多集						jumpurl = "TV_zpage_one_dj.jsp?providerid="+providerid+"&code="+adarr.code+"&category_id="+adarr.category_id+"&sosoBackurl=sosohd_zt_serial.jsp&"+"providerid="+providerid+"&type=1&backflag=0&sosoflag=0&jumpflag=hd"                         }                         /*else{                     	//连续剧多集限免页面                         jumpurl= "TV_zpage_one_free.jsp?providerid="+providerid+"&code="+adarr.code+"&category_id="+adarr.category_id+"&providerid="+providerid+"&type=1&backflag=0&sosoflag=0&jumpflag=hd";                        // jumpurl = "www.baidu.com";                         }*/				if(currentAreaIndex == 3){					fnAddEleClass(get$('Result').getElementsByClassName('ResultRow')[iTopNum],'resultBorder2');				}else{					fnAddEleClass(get$('Result').getElementsByClassName('ResultRow')[iTopNum],'resultBorder2Nobg');				}					get$('Result').getElementsByClassName('ResultRow')[iTopNum].innerHTML = '<div class="overflowK" id="overflowK'+iTopNum+'" data-url="'+jumpurl+'">'+					'<div class="imgFloat"><img style="height:150px;width:100px" src="'+pic+'"></div>'+					'<div class="textFloat">'+						'<h4>'+fname+'</h4>'+						'<p>导演：'+director+'</p>'+						'<p>主演：'+mainactor+'</p>'+						'<p>简介：'+description+'</p>'+					'</div>'+					'</div>';					}var xmlhttp2;function showAdata(code){			if (window.XMLHttpRequest) {				//isIE   =   false; 				xmlhttp2 = new XMLHttpRequest();			} else if (window.ActiveXObject) {				//isIE   =   true; 				xmlhttp2 = new ActiveXObject("Microsoft.XMLHTTP");			}				var d = new Date();			var testtime = d.getTime();			var riddle = hex_md5('besto' + testtime);			var URL = "http://218.24.37.2/cms/programIptvPro_searchByCategoryForSeries.do?time="+testtime+"&riddle="+riddle+"&vo.code="+code+"&vo.providerid="+providerid;			xmlhttp2.open("GET", URL, true);			xmlhttp2.onreadystatechange = handleResponse2;			xmlhttp2.setRequestHeader("If-Modified-Since", "0");			xmlhttp2.send(null);}function handleResponse2() {			if (xmlhttp2.readyState == 4 && xmlhttp2.status == 200) {							var result=xmlhttp2.responseText;								xmlhttp2 = null;								var obj=eval('('+result+')');				var fname = obj[0].name;				var pic = obj[0].fileurl;				var director = obj[0].director;				var mainactor = obj[0].actordisplay;				var description = obj[0].description;				var  seriesflag = obj[0].seriesflag;				var jumpurl;				if(!director){					director = "";				}else if(typeof(director) == "undefined" || director == "null"){					director = "";				}else if(director.length>12){					director = director.substring(0,12)+"...";				}				if(!mainactor){					mainactor = "";				}else if(typeof(mainactor) == "undefined" || mainactor == "null"){					mainactor = "";				}else if(mainactor.length>12){					mainactor = mainactor.substring(0,12)+"...";				}				if(!description){					description = "";				}else if(typeof(description) == "undefined" || description == "null"){					description = "";				}else if(description.length>20){					description = description.substring(0,20)+"...";				}				if(seriesflag == "0"){					jumpurl = "db_zpage_one.jsp?code="+obj[0].code+"&category_id="+obj[0].category_id+"&backurlnosession=sosohd.jsp?providerid="+providerid+"&providerid="+providerid+"&type=1&backflag=0&sosoflag=0&jumpflag=hd";				}else{					jumpurl = "db_zpage_two.jsp?code="+obj[0].code+"&category_id="+obj[0].category_id+"&backurlnosession=sosohd.jsp?providerid="+providerid+"&providerid="+providerid+"&type=2&backflag=0&sosoflag=0&jumpflag=hd";				}				if(currentAreaIndex == 3){					fnAddEleClass(get$('Result').getElementsByClassName('ResultRow')[iTopNum],'resultBorder2');				}else{					fnAddEleClass(get$('Result').getElementsByClassName('ResultRow')[iTopNum],'resultBorder2Nobg');				}					get$('Result').getElementsByClassName('ResultRow')[iTopNum].innerHTML = '<div class="overflowK" id="overflowK'+iTopNum+'" data-url="'+jumpurl+'">'+					'<div class="imgFloat"><img style="height:150px;width:100px" src="'+pic+'"></div>'+					'<div class="textFloat">'+						'<h4>'+fname.substring(0,10)+'</h4>'+						'<p>导演：'+director+'</p>'+						'<p>主演：'+mainactor+'</p>'+						'<p>简介：'+description+'</p>'+					'</div>'+					'</div>';			}		}												var xmlhttp3;	var datalen3;function handleResponse3() {			if (xmlhttp3.readyState == 4 && xmlhttp3.status == 200) {							var result=xmlhttp3.responseText;								xmlhttp3 = null;								var obj=eval('('+result+')');			   			    datalen3 = obj.count;						document.getElementById("tolnum").innerHTML = datalen3+"个";				document.getElementById("tolnum1").innerHTML = datalen3;			}}//当输入框为0的时候function isZero(){		if(get$('inputType').innerHTML.length == 0){		get$('defaultResult').style.display='block';		get$('Result').style.display='none';		get$('resultClass').style.display='none';		document.getElementById('NoResult').style.display="none";		isDef = true;		}	}		//没有相关搜索结果时function NoResult(){	get$('defaultResult').style.display='none';	get$('Result').style.display='none';	get$('NoResult').style.display='block';	get$('NoResult').getElementsByTagName('span').innerHTML = get$('inputType').innerHTML;	}	function getElementsByClassName(n) {    var classElements = [],allElements = document.getElementsByTagName('div');//所有div    for (var i=0; i< allElements.length; i++ )   {       if (allElements[i].className == n ) {           classElements[classElements.length] = allElements[i];        }   }   return classElements.length;}function getGGData(iptv_jpad) {		var platesgd = iptv_jpad.position;	var adversgd = platesgd[0].plate;		//var adressgd = adversgd[0].advertising;		var adressgd = adversgd[0].advertising;		var adstrgd1 = adressgd[0].adstrategy;	var adregd1 = adstrgd1[0].adresource;	var pic1 = adregd1[0].imgurl;	var word1 = adregd1[0].title;	document.getElementById("spic-1").src = pic1;	document.getElementById("bpic-1").src = pic1;	document.getElementById("word1").innerHTML = word1.substring(0,6);    var actionType1 = adregd1[0].actiontype;    var categoryid1 = "1034002";    var code1 =adregd1[0].guid;    if("6"==actionType1){	var url1 = adregd1[0].actionUrl;     	document.getElementById("turl1").setAttribute("data-url",url1+tempstr);}	if("2"==actionType1){	var url1 = "TV_zpage_one_dj.jsp?providerid="+providerid+"&code="+code1+"&category_id="+categoryid1+"&sosoBackurl=sosohd_zt_serial.jsp"+"&providerid="+providerid+"&type=1&backflag=0&sosoflag=0&jumpflag=hd"     	document.getElementById("turl1").setAttribute("data-url",url1+tempstr);   }	var adstrgd2 = adressgd[1].adstrategy;	var adregd2 = adstrgd2[0].adresource;	var pic2 = adregd2[0].imgurl;	var word2 = adregd2[0].title;	document.getElementById("spic-2").src = pic2;	document.getElementById("bpic-2").src = pic2;	document.getElementById("word2").innerHTML = word2.substring(0,6);    var actionType2 = adregd2[0].actiontype;    var categoryid2 = "1034002";    var code2 =  adregd2[0].guid;	    if("6"==actionType2){	var url2 = adregd2[0].actionUrl;     	document.getElementById("turl2").setAttribute("data-url",url2+tempstr);}	if("2"==actionType2){	var url2 = "TV_zpage_one_dj.jsp?providerid="+providerid+"&code="+code1+"&category_id="+categoryid1+"&sosoBackurl=sosohd_zt_serial.jsp";     	document.getElementById("turl2").setAttribute("data-url",url2+tempstr);   }	var adstrgd3 = adressgd[2].adstrategy;	var adregd3 = adstrgd3[0].adresource;	var pic3 = adregd3[0].imgurl;	var word3 = adregd3[0].title;	document.getElementById("spic-3").src = pic3;	document.getElementById("bpic-3").src = pic3;	document.getElementById("word3").innerHTML = word3.substring(0,6);    var actionType3 = adregd3[0].actiontype;    var categoryid3 = "1034002";    var code3 =  adregd2[0].guid;	    if("6"==actionType3){	var url3 = adregd3[0].actionUrl;     	document.getElementById("turl3").setAttribute("data-url",url3+tempstr);}	if("2"==actionType3){	var url3 = "TV_zpage_one_dj.jsp?providerid="+providerid+"&code="+code3+"&category_id="+categoryid3+"&sosoBackurl=sosohd_zt_serial.jsp";     	document.getElementById("turl3").setAttribute("data-url",url3+tempstr);   }			var adstrgd4 = adressgd[3].adstrategy;	var adregd4 = adstrgd4[0].adresource;	var pic4 = adregd4[0].imgurl;	var word4 = adregd4[0].title;	document.getElementById("spic-4").src = pic4;	document.getElementById("bpic-4").src = pic4;	document.getElementById("word4").innerHTML = word4.substring(0,6);   var actionType4 = adregd4[0].actiontype;    var categoryid4 = "1034002";    var code4 =  adregd4[0].guid;	    if("6"==actionType4){	var url4 = adregd4[0].actionUrl;     	document.getElementById("turl3").setAttribute("data-url",url3+tempstr);}	if("2"==actionType4){	var url4 = "TV_zpage_one_dj.jsp?providerid="+providerid+"&code="+code4+"&category_id="+categoryid4+"&sosoBackurl=sosohd_zt_serial.jsp?sosobackurl";     	document.getElementById("turl4").setAttribute("data-url",url4+tempstr);   }		var adstrgd5 = adressgd[4].adstrategy;	var adregd5 = adstrgd5[0].adresource;	var word5 = adregd5[0].title;	var pic5 = adregd5[0].imgurl;        document.getElementById("spic-5").src = pic5;	document.getElementById("bpic-5").src = pic5;  	document.getElementById("word5").innerHTML = word5.substring(0,7);  var actionType5 = adregd5[0].actiontype;    var categoryid5 ="1034002";    var code5 =  adregd5[0].guid;	    if("6"==actionType5){	var url5 = adregd5[0].actionUrl;     	document.getElementById("turl5").setAttribute("data-url",url5+tempstr);}	if("2"==actionType5){	var url5 = "TV_zpage_one_dj.jsp?providerid="+providerid+"&code="+code5+"&category_id="+categoryid5+"&sosoBackurl=sosohd_zt_serial.jsp";     	document.getElementById("turl5").setAttribute("data-url",url5+tempstr);   }		var adstrgd6 = adressgd[5].adstrategy;	var adregd6 = adstrgd6[0].adresource;	var pic6 = adregd6[0].imgurl;        document.getElementById("spic-6").src = pic6;	document.getElementById("bpic-6").src = pic6;	var word6 = adregd6[0].title;	document.getElementById("word6").innerHTML = word6.substring(0,7);   var actionType6 = adregd6[0].actiontype;    var categoryid6 ="1034002";    var code6 =  adregd6[0].guid;	    if("6"==actionType6){	var url6 = adregd6[0].actionUrl;     	document.getElementById("turl6").setAttribute("data-url",url6+tempstr);}	if("2"==actionType6){	var url6 = "TV_zpage_one_dj.jsp?providerid="+providerid+"&code="+code6+"&category_id="+categoryid6+"&sosoBackurl=sosohd_zt_serial.jsp";     	document.getElementById("turl6").setAttribute("data-url",url6+tempstr);   }		var adstrgd7 = adressgd[6].adstrategy;	var adregd7 = adstrgd7[0].adresource;		var pic7 = adregd7[0].imgurl;        document.getElementById("spic-7").src = pic7;	document.getElementById("bpic-7").src = pic7;	var word7 = adregd7[0].title;	document.getElementById("word7").innerHTML = word7.substring(0,7);	   var actionType7 = adregd7[0].actiontype;    var categoryid7 ="1034002";    var code7 =  adregd7[0].guid;	    if("6"==actionType7){	var url7 = adregd7[0].actionUrl;     	document.getElementById("turl7").setAttribute("data-url",url7+tempstr);}	if("2"==actionType7){	var url7 = "TV_zpage_one_dj.jsp?providerid="+providerid+"&code="+code7+"&category_id="+categoryid7+"&sosoBackurl=sosohd_zt_serial.jsp";     	document.getElementById("turl7").setAttribute("data-url",url7+tempstr);   }		var adstrgd8 = adressgd[7].adstrategy;	var adregd8 = adstrgd8[0].adresource;		var pic8 = adregd8[0].imgurl;     document.getElementById("spic-8").src = pic8;	 document.getElementById("bpic-8").src = pic8;	var word8 = adregd8[0].title;	document.getElementById("word8").innerHTML = word8.substring(0,7);	   var actionType8 = adregd8[0].actiontype;    var categoryid8 ="1034002";    var code8 =  adregd8[0].guid;	    if("6"==actionType8){	var url8 = adregd8[0].actionUrl;     	document.getElementById("turl8").setAttribute("data-url",url8+tempstr);}	if("2"==actionType8){	var url8 = "TV_zpage_one_dj.jsp?providerid="+providerid+"&code="+code8+"&category_id="+categoryid8+"&sosoBackurl=sosohd_zt.jsp";     	document.getElementById("turl8").setAttribute("data-url",url8+tempstr);   }	/*	var adstrgd9 = adressgd[8].adstrategy;	var adregd9 = adstrgd9[0].adresource;	var word9 = adregd9[0].title;	document.getElementById("word9").innerHTML = word9.substring(0,7);	var url9 = adregd9[0].actionUrl;	document.getElementById("word9").setAttribute("data-url",url9+tempstr);		var adstrgd10 = adressgd[9].adstrategy;	var adregd10 = adstrgd10[0].adresource;	var word10 = adregd10[0].title;	document.getElementById("word10").innerHTML = word10.substring(0,7);	var url10 = adregd10[0].actionUrl;	document.getElementById("word10").setAttribute("data-url",url10+tempstr);		var adstrgd11 = adressgd[10].adstrategy;	var adregd11 = adstrgd11[0].adresource;	var word11 = adregd11[0].title;	document.getElementById("word11").innerHTML = word11.substring(0,7);	var url11 = adregd11[0].actionUrl;	document.getElementById("word11").setAttribute("data-url",url11+tempstr);		var adstrgd12 = adressgd[11].adstrategy;	var adregd12 = adstrgd12[0].adresource;	var word12 = adregd12[0].title;	document.getElementById("word12").innerHTML = word12.substring(0,7);	var url12 = adregd12[0].actionUrl;	document.getElementById("word12").setAttribute("data-url",url12+tempstr);		var adstrgd13 = adressgd[12].adstrategy;	var adregd13 = adstrgd13[0].adresource;	var word13 = adregd13[0].title;	document.getElementById("word13").innerHTML = word13.substring(0,7);	var url13 = adregd13[0].actionUrl;	document.getElementById("word13").setAttribute("data-url",url13+tempstr);		var adstrgd14 = adressgd[13].adstrategy;	var adregd14 = adstrgd14[0].adresource;	var word14 = adregd14[0].title;	document.getElementById("word14").innerHTML = word14.substring(0,7);	var url14 = adregd14[0].actionUrl;	document.getElementById("word14").setAttribute("data-url",url14+tempstr);*/}